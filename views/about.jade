-	function render(__str, __data) {
-		Object.keys(__data).forEach(function(key) {
-			__str = __str.replace("{"+key+"}", __data[key].toString());
-		});
-		return __str;
-	}

//- create a standard menu link
mixin menuLink(__item, __data)
	- var __data  = __data || {};
	- var __curr  = __item.url === _Menu.currentURL;
	- var __url   = __item.url ? (__curr ? null : render(__item.url, __data)) : null;
	- var __title = render(__item.title, __data);
	if Array.isArray(__item.dropdown)
		+menuDropdown(__item, __data)
	else
		li(class=__curr ? "active" : null)
			if Array.isArray(__item.sign)
				a(href=__url, title=__title)
					span.hidden-xs(class=__item.sign.join(" "))
					span.visible-xs!=__title
			else
				a(href=__url)!=__title

//- create a menu dropdown item
mixin menuDropdown(__item, __data)
	- var __data  = __data || {};
	li.dropdown
		a.dropdown-toggle(data-toggle="dropdown")!=render(__item.title, __data)
			b.caret
		ul.dropdown-menu
			each __link in __item.dropdown
				if __link.title
					+menuLink(__link, __data)
				else
					li.divider

doctype html
html(lang="de")
	head
		meta(charset="utf-8")
		title DCM – DSA Charakter Manager
		//link(rel="stylesheet", href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css")
		link(rel="stylesheet", href="//netdna.bootstrapcdn.com/bootswatch/3.1.1/spacelab/bootstrap.min.css")
		link(rel="stylesheet", href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css")
		style.
			ol.dcm-list li {
				padding-top:    0.2em;
				padding-bottom: 0.2em;
			}
			.dcm-def-list dt {
				margin-top:    1em;
				margin-bottom: 0.5em;
			}
	body
		nav.navbar.navbar-default(role="navigation")
			.container-fluid
				.navbar-header
					button.navbar-toggle(type="button", data-toggle="collapse", data-target="#navbar-collapse-chars")
						span.sr-only Navigation
						span.icon-bar
						span.icon-bar
						span.icon-bar
					a.navbar-brand DCM
				#navbar-collapse-chars.collapse.navbar-collapse
					- var data = _FRCount ? { badge: '<span class="badge">'+_FRCount+'</span>' } : { badge: "" };
					ul.nav.navbar-nav
						each __link in _Menu.left
							+menuLink(__link, data)
					ul.nav.navbar-nav.navbar-right
						each __link in _Menu.right
							+menuLink(__link, data)
						if _User.isAdmin
							li
								a(href="/db", title="Manage DB")
									span.hidden-xs.fa.fa-hdd-o
									span.visible-xs Manage DB
		.container
			.page-header.text-center
				h1
					span.fa.fa-info-circle
					|  Rund um DCM 
			.container
				h3 Verweise
				p
					span.fa.fa-github
					|  GitHub Projekt: &nbsp;
					a(href="https://github.com/Dormilich/dcm") DCM @ GitHub&nbsp;
						span.fa.fa-external-link
				p 
					span.fa.fa-github
					|  Wenn etwas nicht funktioniert oder ein neues Feature fehlt: &nbsp;
					a(href="https://github.com/Dormilich/dcm/issues") GitHub Issue Tracker&nbsp;
						span.fa.fa-external-link
				p 
					span.fa.fa-comments-o
					|  An der Stelle möchte ich mich auch bei Tobias Carstens für die Layout-Diskussionen und  Chris Sevilleja für das <a href="http://scotch.io/tutorials/javascript/easy-node-authentication-setup-and-local" lang="en">Node Authentication Tutorial <span class="fa fa-external-link"></span></a> bedanken.
				h3 FAQ
				dl.dcm-def-list
					dt Ich habe mein Passwort vergessen!
					dd 
						p Hier gibt es zwei Möglichkeiten:
						ol.dcm-list(type="1")
							li Du hast nur ein lokales Konto (E-Mail/Passwort): Frag den Admin, daß er endlich das Passwort-Reset macht.
							li Dein lokales Konto ist mit einem Sozialnetzwerkkonto (z.B. facebook) verlinkt: Trenne das lokale Konto ab und verbinde es wieder neu. Falls du das Sozialnetzwerkkonto getrennt haben solltest und dich abgemeldet hast, siehe 1. (solange du angemeldet bist, kannst du das Trennen/Verbinden beliebig wiederholen). 
					dt Ich habe zwei Konten verlinkt, aber ich sehe immer nur die Helden von einem Account.
					dd
						p Dann hast du sehr wahrscheinlich dich vorher mit beiden Konten angemeldet, also zwei Benutzerkonten angelegt. Die Verlinkung betrifft aber nur die Anmeldedaten eines einzigen Nutzerkontos. Da kann nur noch der Admin was machen.
					dt Ich möchte einen eigenen Vor-/Nachteil hinzufügen.
					dd
						ol.dcm-list(type="1")
							li einen (oder entsprechend viele) beliebigen Vor- oder Nachteil hinzufügen (Editor)
							li speichern
							li Editor erneut öffnen
							li im Textfeld den (oder die) hinzugefügten Vorteil/Nachteil durch deinen eigenen ersetzen
							li speichern
					dt Die Sortierung der Talente/Zauber/… stimmt nicht ganz.
					dd 
						p Das liegt daran, daß der Server keine Sprachen unterstützt (Stichwort: Locale) und daher entsprechend der Unicode-Tabellen die Buchstaben sortiert.
						p Aus diesem Grung werden auch die Zauber nicht sortiert, da sonst „Ängste lindern“ hinter „Zauberzwang“ auftaucht.
